{"ast":null,"code":"import _defineProperty from\"/home/user/gcpdemos/devopsdemo1/quotes-front/views/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/home/user/gcpdemos/devopsdemo1/quotes-front/views/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/user/gcpdemos/devopsdemo1/quotes-front/views/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/user/gcpdemos/devopsdemo1/quotes-front/views/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/user/gcpdemos/devopsdemo1/quotes-front/views/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/user/gcpdemos/devopsdemo1/quotes-front/views/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{useState}from'react';import{Button,Checkbox,Form}from'semantic-ui-react';import{Link}from'react-router-dom';import Table from'react-bootstrap/Table';import{FormErrors}from'./FormErrors';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function InsertWriter(){return/*#__PURE__*/_jsx(NewWriter,{});}var NewWriter=/*#__PURE__*/function(_React$Component){_inherits(NewWriter,_React$Component);var _super=_createSuper(NewWriter);function NewWriter(props){var _this;_classCallCheck(this,NewWriter);_this=_super.call(this,props);_this.state={writer:'',color:'',writerValid:false,colorValid:false,formErrors:{writer:'',color:''},formValid:false};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(NewWriter,[{key:\"refresh\",value:function refresh(){window.location.reload();}},{key:\"handleChange\",value:function handleChange(event){var _this2=this;//    this.setState({writer: event.target.writer});\n//    this.setState({color: event.target.color});\nvar target=event.target;var value=target.type==='checkbox'?target.checked:target.value;var name=target.name;this.setState(_defineProperty({},name,value),function(){_this2.validateField(name,value);});}},{key:\"validateField\",value:function validateField(fieldName,value){var fieldValidationErrors=this.state.formErrors;var writerValid=this.state.writerValid;var colorValid=this.state.colorValid;switch(fieldName){case'writer'://writerValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\nwriterValid=value.match(/^\\S+\\s\\S+$/i);fieldValidationErrors.writerValid=writerValid?'':' a writer is more than one word (first and last name) !';break;case'color':colorValid=value.length>=7;fieldValidationErrors.colorValid=colorValid?'':' a color is should have 7 caracters';break;default:break;}this.setState({formErrors:fieldValidationErrors,writerValid:writerValid,colorValid:colorValid},this.validateForm);}},{key:\"validateForm\",value:function validateForm(){this.setState({formValid:this.state.writerValid&&this.state.colorValid});}},{key:\"errorClass\",value:function errorClass(error){return error.length===0?'':'has-error';}},{key:\"handleSubmit\",value:function handleSubmit(event){//   alert('Submitted: Writer :' + this.state.writer +' Color :'+this.state.color);\nwindow.$.get(\"https://\".concat(process.env.REACT_APP_BACK_URL,\"/api/writers/insertwriter/\").concat(encodeURIComponent(this.state.writer),\"/\").concat(encodeURIComponent(this.state.color)));window.location.assign(\"/\");}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xs-8 col-xs-offset-2 jumbotron\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-12\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"topnav\",id:\"myTopnav\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",size:\"0\",children:\"Liste Quotes\"}),/*#__PURE__*/_jsx(Link,{to:\"/insertwriter\",class:\"active\",size:\"0\",children:\"Insert Writer\"}),/*#__PURE__*/_jsx(\"a\",{onClick:this.refresh,children:\"Refresh \"}),/*#__PURE__*/_jsx(\"a\",{onClick:this.logout,children:\"Log out\"})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Create new writer\"}),/*#__PURE__*/_jsxs(Form,{className:\"create-form\",onSubmit:this.handleSubmit,formErrors:this.state.formErrors,children:[/*#__PURE__*/_jsx(\"div\",{className:\"panel panel-default\",children:/*#__PURE__*/_jsx(FormErrors,{formErrors:this.state.formErrors})}),/*#__PURE__*/_jsxs(Form.Field,{required:\"true\",fluid:true,children:[/*#__PURE__*/_jsx(\"label\",{aline:true,children:\"Writer \"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{name:\"writer\",placeholder:\"FirstName LastName\",value:this.state.writer,onChange:this.handleChange,style:{width:'350px'}})]}),/*#__PURE__*/_jsxs(Form.Field,{required:\"true\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Color  \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{name:\"color\",placeholder:\"#4285F4\",value:this.state.color,onChange:this.handleChange,style:{width:'350px'},children:[/*#__PURE__*/_jsx(\"option\",{selected:true}),/*#__PURE__*/_jsx(\"option\",{value:\"#4285F4\",children:\"Blue\"}),/*#__PURE__*/_jsx(\"option\",{value:\"#DB4437\",children:\"Red\"}),/*#__PURE__*/_jsx(\"option\",{value:\"#F4B400\",children:\"Yellow\"}),/*#__PURE__*/_jsx(\"option\",{value:\"#0F9D58\",children:\"Green\"}),/*#__PURE__*/_jsx(\"option\",{value:\"#545454\",children:\"Grey\"})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:!this.state.formValid,children:\"Submit\"})]})]})})});}}]);return NewWriter;}(React.Component);","map":{"version":3,"names":["React","useState","Button","Checkbox","Form","Link","Table","FormErrors","jsx","_jsx","jsxs","_jsxs","InsertWriter","NewWriter","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","writer","color","writerValid","colorValid","formErrors","formValid","handleChange","bind","_assertThisInitialized","handleSubmit","_createClass","key","value","refresh","window","location","reload","event","_this2","target","type","checked","name","setState","_defineProperty","validateField","fieldName","fieldValidationErrors","match","length","validateForm","errorClass","error","$","get","concat","process","env","REACT_APP_BACK_URL","encodeURIComponent","assign","render","className","children","class","id","to","size","onClick","logout","onSubmit","Field","required","fluid","aline","placeholder","onChange","style","width","selected","disabled","Component"],"sources":["/home/user/gcpdemos/devopsdemo1/quotes-front/views/src/js/insertwriter.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Button, Checkbox, Form } from 'semantic-ui-react'\nimport { Link } from 'react-router-dom';\nimport Table from 'react-bootstrap/Table';\nimport { FormErrors } from './FormErrors';\n\nexport default function InsertWriter() {\n  return (<NewWriter />);\n}\n\nclass NewWriter extends React.Component {\n\n\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        writer: '',\n        color: '',\n        writerValid: false,\n        colorValid: false,\n        formErrors: {writer: '', color: ''},\n        formValid: false\n      }\n  \n      this.handleChange = this.handleChange.bind(this);\n      this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n\n    \n  refresh() {\n    window.location.reload();\n  }\n  \n\n  handleChange(event) {\n//    this.setState({writer: event.target.writer});\n//    this.setState({color: event.target.color});\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n  \n    this.setState(\n      {[name]: value, }, () => { this.validateField(name, value)});\n    };\n  \n\n  validateField(fieldName, value) {\n    let fieldValidationErrors = this.state.formErrors;\n    let writerValid = this.state.writerValid;\n    let colorValid = this.state.colorValid;\n  \n    switch(fieldName) {\n      case 'writer':\n        //writerValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\n        writerValid = value.match(/^\\S+\\s\\S+$/i);\n        fieldValidationErrors.writerValid = writerValid ? '' : ' a writer is more than one word (first and last name) !';\n        break;\n      case 'color':\n        colorValid = value.length >= 7;\n        fieldValidationErrors.colorValid = colorValid ? '': ' a color is should have 7 caracters';\n        break;\n      default:\n        break;\n    }\n    this.setState({formErrors: fieldValidationErrors,\n                    writerValid: writerValid,\n                    colorValid: colorValid\n                  }, this.validateForm);\n  }\n\n\n  validateForm() {\n    this.setState({formValid: this.state.writerValid && this.state.colorValid});\n  }\n  \n  errorClass(error) {\n    return(error.length === 0 ? '' : 'has-error');\n  }\n\n  handleSubmit(event) {\n //   alert('Submitted: Writer :' + this.state.writer +' Color :'+this.state.color);\n    window.$.get(`https://${process.env.REACT_APP_BACK_URL}/api/writers/insertwriter/${encodeURIComponent(this.state.writer)}/${encodeURIComponent(this.state.color)}`);\n    window.location.assign(\"/\");\n  }\n\n\n\n  render() {\n\n\n    return (\n      <div className=\"container\">\n          <div className=\"col-xs-8 col-xs-offset-2 jumbotron\"> \n            <div className=\"col-lg-12\">\n\n              <div class=\"topnav\" id=\"myTopnav\">\n                <Link to='/' size='0'>Liste Quotes</Link>\n                <Link to='/insertwriter' class=\"active\" size='0'>Insert Writer</Link>                \n                <a onClick={this.refresh}>Refresh </a> \n                <a onClick={this.logout}>Log out</a>\n\n              </div>\n\n\n              <h3>Create new writer</h3>\n              \n              <Form className=\"create-form\" onSubmit={this.handleSubmit} formErrors={this.state.formErrors}>\n                <div className=\"panel panel-default\">\n                  <FormErrors formErrors={this.state.formErrors} />\n                </div>\n                <Form.Field required='true' fluid >\n                    <label aline>Writer </label> <br/>\n                    <input name='writer' placeholder='FirstName LastName' value={this.state.writer} onChange={this.handleChange} style={{width: '350px'}}/>\n                </Form.Field>\n                <Form.Field required='true' >\n                    <label >Color  </label><br/>\n                    <select name='color' placeholder='#4285F4' value={this.state.color} onChange={this.handleChange} style={{width: '350px'}}>\n                      <option selected></option>\n                      <option value=\"#4285F4\">Blue</option>\n                      <option value=\"#DB4437\">Red</option>\n                      <option value=\"#F4B400\">Yellow</option>\n                      <option value=\"#0F9D58\">Green</option>\n                      <option value=\"#545454\">Grey</option>\n                    </select>\n                </Form.Field><br/>\n                <Button type='submit' disabled={!this.state.formValid}>Submit</Button>\n              </Form>\n          </div>\n        </div>\n      </div>\n\n    )\n}\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}